name: syncgitee

on:
  workflow_call:
    inputs:
      gitee-private-key:
        require: true
        type: string
      gitee-token:
        require: true
        type: string
      gitee-password:
        require: true
        type: string

jobs:
  sync-to=gitee:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Sync to Gitee
      uses: Yikun/hub-mirror-action@v1.4
      with:
          src: 'github/gaofen13'    						
          dst: 'gitee/gaofen13'     						
          dst_key: ${{ inputs.gitee-private-key }}  
          dst_token:  ${{ inputs.gitee-token }}    
          force_update: true
          static_list: "mdui-blazor"   					
          debug: true

    - name: Build Gitee Pages
      uses: yanglbme/gitee-pages-action@v1.4.1
      with:
          gitee-username: gaofen13
          gitee-password: ${{ inputs.gitee-password }}
          gitee-repo: gaofen13/mdui-blazor
          branch: gh-pages
